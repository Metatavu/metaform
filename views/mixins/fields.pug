mixin text-field(field)
  .form-group.row
    .col-12
      label(for='field-' + field.name)
        =field.title
        if field.required
          |&nbsp;*
    .col-12
      input.form-control(aria-labelledby=id='field-' + field.name,id='field-' + field.name,type="text",name=field.name,title=field.title,required=field.required)
      if field.help
        small.form-text.text-muted
          =field.help
          
mixin email-field(field)
  .form-group.row
    .col-12
      label(for='field-' + field.name)
        =field.title
        if field.required
          |&nbsp;*
    .col-12
      input.form-control(aria-labelledby=id='field-' + field.name,id='field-' + field.name,type="email",name=field.name,title=field.title,required=field.required)
      if field.help
        small.form-text.text-muted
          =field.help
          
mixin number-field(field)
  .form-group.row
    .col-12
      label(for='field-' + field.name)
        =field.title
        if field.required
          |&nbsp;*
    .col-12
      input.form-control(aria-labelledby=id='field-' + field.name,id='field-' + field.name,type="number",name=field.name,title=field.title,required=field.required,min=field.min,max=field.max,step=field.step,value=field.default)
      if field.help
        small.form-text.text-muted
          =field.help
          
mixin boolean-field(field)
  .form-group.row
    .col-12
      .form-check
        label.form-check-label
          input.form-check-input(type="checkbox",name=field.name,title=field.title,checked=field.checked)
          |&nbsp;
          =field.title
          if field.required
            |&nbsp;*
      if field.help
        small.form-text.text-muted
          =field.help

mixin radio-field(field)
  .form-group.row
    .col-12
      label(for='field-' + field.name)
        =field.title
        if field.required
          |&nbsp;*
    .col-12
      each option in field.options
        .form-check
          label.form-check-label
            input.form-check-input(type="radio",name=field.name, value=option.name,checked=option.checked)
            |&nbsp;
          =option.text
      if field.help
        small.form-text.text-muted
          =field.help
          
mixin memo-field(field)
  .form-group.row
    .col-12
      label(for='field-' + field.name)
        =field.title
        if field.required
          |&nbsp;*
    .col-12
      textarea.form-control(aria-labelledby=id='field-' + field.name,id='field-' + field.name,name=field.name,title=field.title,required=field.required)
      if field.help
        small.form-text.text-muted
          =field.help          
          
mixin files-field(field)
  .form-group.row
    .col-12
      label(for='field-' + field.name)
        =field.title
        if field.required
          |&nbsp;*
    .col-12
      .file-component
        button.add-file-button.btn.btn-success
          |+ Lisää tiedosto
        input.form-control-file(aria-labelledby=id='field-' + field.name,id='field-' + field.name,type="file",multiple="multiple",name='file',title=field.title,required=field.required)
        .progress
          .progress-bar(role='progressbar',aria-valuemin='0',aria-valuemax='100',aria-valuenow='0')
        .files
      if field.help
        small.form-text.text-muted
          =field.help
          
mixin logo-field(field)
  .form-group.row
    .col-12.logo-container
      img.logo(src=field.src)

mixin small-text-field(field)
  .form-group.row
    .col-12.small-text-container
      small
        =field.text

mixin submit-field(field)
  .form-group.row
    .col-12
      input.btn.btn-lg.btn-primary(type="submit",value=field.text)

mixin unknown-field(field)
  .col-12.error.row
    =field.type
    |&nbsp;is unknown

mixin field(field)
  case field.type 
    when 'text'
      +text-field(field)
    when 'email'
      +email-field(field)
    when 'number'
      +number-field(field)
    when 'memo'
      +memo-field(field)
    when 'boolean'
      +boolean-field(field)
    when 'radio'
      +radio-field(field)
    when 'files'
      +files-field(field)
    when 'logo'
      +logo-field(field)
    when 'small-text'
      +small-text-field(field)
    when 'submit'
      +submit-field(field)
    default
      +unknown-field(field)
      
  